<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>XpressBees â€” Track Shipment Predictor</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --light-orange: #ffe9d2;
      --dark-orange: #d35400;
      --header-height: 78px;
    }
    body {
      margin:0;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--light-orange);
      color: #222;
    }

    header {
      height: var(--header-height);
      display:flex;
      align-items:center;
      padding: 12px 28px;
      gap: 18px;
      border-bottom: 1px solid rgba(0,0,0,0.06);
      background: linear-gradient(90deg, rgba(255,241,229,0.7), rgba(255,250,245,0.6));
    }
    /* logo text style */
    .logo {
      font-size: 28px;
      font-weight: 700;
      letter-spacing: 0.3px;
      display:flex;
      align-items:baseline;
      gap:6px;
    }
    .logo .xpress { color: black; }
    .logo .bees { color: var(--dark-orange); }

    .container {
      max-width: 1100px;
      margin: 24px auto;
      background: rgba(255,255,255,0.93);
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.06);
    }

    h1 { margin:6px 0 14px 0; font-size:20px; }
    form {
      display:grid;
      grid-template-columns: repeat(3, 1fr); /* 3 columns equal width */
      gap: 14px 18px;
      align-items:start;
    }
    .field {
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    label {
      font-size:13px;
      color:#444;
    }
    select, input[type="text"], input[type="number"], input[type="date"]{
      padding: 8px 10px;
      border-radius:6px;
      border:1px solid #d0d0d0;
      font-size:14px;
      background:white;
    }
    .fullwidth {
      grid-column: 1 / -1;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
    }
    .btn {
      padding:10px 14px;
      border-radius:8px;
      background: var(--dark-orange);
      color:white;
      border:none;
      cursor:pointer;
      font-weight:600;
    }
    .result {
      margin-top: 16px;
      padding: 12px;
      border-radius:8px;
      background: #fff7ee;
      border: 1px solid rgba(211,84,0,0.08);
    }

    footer{
      margin-top:18px;
      text-align:center;
      padding: 14px;
      color:#222;
      font-weight:700; /* bold footer as requested */
    }

    @media (max-width: 900px){
      form { grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 600px){
      form { grid-template-columns: 1fr; }
    }

  </style>
</head>
<body>
  <header>
    <div class="logo">
      <span class="xpress">Xpress</span>
      <span class="bees">Bees</span>
      <span style="font-weight:700; font-size:14px; margin-left:10px; color:#000;">Logistics Services Provider</span>
    </div>
  </header>

  <main class="container">
    <h1>Track Shipment Predictor</h1>
    <form method="post" action="{{ url_for('predict') }}">
      {% for col, vals in options.items() %}
        <div class="field">
          <label>{{ col }}</label>

          {# For date-like attributes, use a date input if possible #}
          {% set safe_name = col.replace(' ', '__') %}
          {% if 'date' in col.lower() %}
            <input type="date" name="{{ safe_name }}" {% if submitted and submitted[col] %} value="{{ submitted[col] }}"{% endif %}>
          {% elif col in ['Physical Weight','Volumetric Weight'] %}
            <input type="number" step="0.01" name="{{ safe_name }}" placeholder="{{ col }}" {% if submitted and submitted[col] %} value="{{ submitted[col] }}"{% endif %}>
          {% else %}
            <select name="{{ safe_name }}">
              <option value="">-- Select --</option>
              {% for v in vals %}
                <option value="{{ v }}" {% if submitted and submitted[col] == v %} selected {% endif %}>{{ v }}</option>
              {% endfor %}
            </select>
          {% endif %}
        </div>
      {% endfor %}

      <div class="fullwidth">
        <div>
          <button class="btn" type="submit">Predict Route Mode</button>
        </div>
        <div style="font-size:13px; color:#555;">
          <strong>Note:</strong> Simple rule-based demo predictor. Replace with ML model for production.
        </div>
      </div>
    </form>

    {% if prediction %}
      <div class="result">
        <strong>Predicted Mode:</strong> {{ prediction }}<br/>
        <small>{{ reason }}</small>

        {% if submitted %}
          <hr>
          <div style="font-size:13px;">
            <strong>Submitted values (snapshot):</strong>
            <ul>
            {% for k,v in submitted.items() %}
              <li><strong>{{ k }}:</strong> {{ v or "(empty)" }}</li>
            {% endfor %}
            </ul>
          </div>
        {% endif %}
      </div>
    {% endif %}
  </main>

  <footer>
    Project by Hitesh Bachale
  </footer>
</body>
</html>
